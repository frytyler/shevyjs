{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c871ec4cafd3ef12fd38","webpack:///./constants/index.js","webpack:///./utils/index.js","webpack:///./index.js"],"names":["defaultOptions","baseFontSize","baseLineHeight","baseFontScale","addMarginBottom","proximity","proximityFactor","headings","calcHeadingFontSize","calcHeadingLineHeight","calcHeadingMarginBottom","getFontValue","size","parseFloat","getFontUnit","match","Error","trimArrayToMaxOf6","array","length","slice","thisArg","factor","value","unit","lineHeightSpacing","fontSize","fontValue","spacing","spacingValue","lineHeight","multiplier","undefined","baseSpacing","spacingUnit","Shevy","options","mergedOptions","baseFontUnit","bind","forEach","index","heading","marginBottom","body","content"],"mappings":"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","file":"index.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"shevyjs\"] = factory();\n\telse\n\t\troot[\"shevyjs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c871ec4cafd3ef12fd38","export const defaultOptions = {\n  baseFontSize: '16px',\n  baseLineHeight: 1.5,\n  baseFontScale: [3, 2.5, 2, 1.5, 1.25, 1],\n  addMarginBottom: true,\n  proximity: false,\n  proximityFactor: 0.85\n}\n\nexport const headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6']\n\n\n\n// WEBPACK FOOTER //\n// ./constants/index.js","// @flow\n\nexport const getFontValue = (size: string): number => {\n  return parseFloat(size)\n}\n\nexport const getFontUnit = (size: string): string => {\n  const match = size.match(/px|r?em$/)\n\n  if (!match) {\n    throw new Error('Unsupported font unit: Shevy only supports px, em, or rem.')\n  }\n\n  return match[0]\n}\n\nexport const trimArrayToMaxOf6 = (array: Array<any>): Array<any> => {\n  return array.length <= 6 ? array : array.slice(0, 6)\n}\n\nexport function calcHeadingFontSize (thisArg: Object, factor: number): string {\n  const { baseFontSize } = thisArg\n  const value = getFontValue(baseFontSize)\n  const unit = getFontUnit(baseFontSize)\n\n  return `${value * factor}${unit}`\n}\n\nexport function calcHeadingLineHeight (thisArg: Object, factor: number): number {\n  const { lineHeightSpacing } = thisArg\n  const fontSize = calcHeadingFontSize(thisArg, factor)\n  const fontValue = getFontValue(fontSize)\n  const spacing = lineHeightSpacing()\n  const spacingValue = getFontValue(spacing)\n  let lineHeight = 0\n  let multiplier = 1\n\n  if (fontValue <= spacingValue) {\n    lineHeight = spacingValue / fontValue\n  } else {\n    while (getFontValue(lineHeightSpacing(multiplier)) < fontValue) {\n      multiplier += 0.5\n    }\n\n    lineHeight = getFontValue(lineHeightSpacing(multiplier)) / fontValue\n  }\n\n  return lineHeight\n}\n\nexport function calcHeadingMarginBottom (\n  thisArg: Object,\n  factor: number,\n  addMarginBottom: boolean\n): ?string {\n  if (!addMarginBottom) {\n    return undefined\n  }\n\n  const { baseSpacing } = thisArg\n  const spacing = baseSpacing()\n  const spacingUnit = getFontUnit(spacing)\n\n  if (spacingUnit === 'em') {\n    const fontSize = calcHeadingFontSize(thisArg, factor)\n    const fontValue = getFontValue(fontSize)\n    const spacingValue = getFontValue(spacing)\n\n    return `${spacingValue / fontValue}${spacingUnit}`\n  } else {\n    return spacing\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/index.js","import { defaultOptions, headings } from './constants'\nimport {\n  getFontValue,\n  getFontUnit,\n  trimArrayToMaxOf6,\n  calcHeadingFontSize,\n  calcHeadingLineHeight,\n  calcHeadingMarginBottom\n} from './utils'\n\nexport default class Shevy {\n  constructor (options) {\n    const mergedOptions = { ...defaultOptions, ...options }\n    const {\n      baseFontSize,\n      baseLineHeight,\n      baseFontScale,\n      addMarginBottom,\n      proximity,\n      proximityFactor\n    } = mergedOptions\n\n    this.baseFontSize = baseFontSize\n    this.baseFontUnit = getFontUnit(baseFontSize)\n    this.baseLineHeight = baseLineHeight\n    this.baseFontScale = trimArrayToMaxOf6(baseFontScale)\n    this.addMarginBottom = addMarginBottom\n    this.proximity = proximity\n    this.proximityFactor = proximityFactor\n\n    // Binding methods\n    this.lineHeightSpacing = this.lineHeightSpacing.bind(this)\n    this.baseSpacing = this.baseSpacing.bind(this)\n\n    // Set headings\n    baseFontScale.forEach((factor, index) => {\n      const heading = headings[index]\n      this[heading] = {\n        fontSize: calcHeadingFontSize(this, factor),\n        lineHeight: calcHeadingLineHeight(this, factor),\n        marginBottom: calcHeadingMarginBottom(this, factor, addMarginBottom)\n      }\n    })\n\n    // Set Body\n    this.body = {\n      fontSize: this.baseFontSize,\n      lineHeight: this.baseLineHeight\n    }\n\n    // Set Content\n    this.content = {\n      fontSize: this.baseFontSize,\n      lineHeight: this.baseLineHeight,\n      marginBottom: addMarginBottom ? this.baseSpacing() : undefined\n    }\n  }\n\n  lineHeightSpacing (factor = 1) {\n    const { baseFontSize, baseLineHeight } = this\n    const value = getFontValue(baseFontSize)\n    const unit = getFontUnit(baseFontSize)\n\n    return `${value * baseLineHeight * factor}${unit}`\n  }\n\n  baseSpacing (factor = 1) {\n    const {\n      baseFontSize,\n      baseLineHeight,\n      proximity,\n      proximityFactor\n    } = this\n    const value = getFontValue(baseFontSize)\n    const unit = getFontUnit(baseFontSize)\n    let spacing = value * baseLineHeight * factor\n\n    if (proximity) {\n      spacing = spacing * proximityFactor\n    }\n\n    return `${spacing}${unit}`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}